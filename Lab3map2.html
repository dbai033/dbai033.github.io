<!DOCTYPE html>
<html>

<head>
    <script src='https://api.mapbox.com/mapbox-gl-js/v0.23.0/mapbox-gl.js'></script>
    <link href='https://api.mapbox.com/mapbox-gl-js/v0.23.0/mapbox-gl.css' rel='stylesheet' />
    <meta charset='utf-8' />
    <title>second</title>
</head>

<body>
    <div id='maptwo' style='width: 700px; height: 825px;'></div>
    <script>
        mapboxgl.accessToken = 'pk.eyJ1IjoiZGJhaTAzMyIsImEiOiJjaXJ3czI3djMwMDB5MnlsaHplc3AxNTBnIn0.eAArwnepEe9TK3dtzX6WhA';
        var maptwo = new mapboxgl.Map({
            container: 'maptwo',
            style: 'mapbox://styles/dbai033/cisfhayhx00082yoz8f7p6bqu',
            center: [172.125775, -41.236304],
            zoom: 5
        });

    maptwo.on('load', function () {
    maptwo.addSource('greatwalks-7520d7', {
        type: 'vector',
        url: 'mapbox://dbai033.dpki08qx'
    });
    maptwo.addLayer({
        'id': 'greatwalks-7520d7',
        'type': 'line',
        'source': 'greatwalks-7520d7',
        'source-layer': 'greatwalks-7520d7',
        'layout': {
            'visibility': 'visible',
            'line-join': 'round',
            'line-cap': 'round'
        },
        'paint': {
            'line-color': '#ff0000',
            'line-width': 2
          }
      });
    maptwo.setLayerZoomRange('greatwalks-7520d7', 10, 22);
    });

maptwo.on('load', function () {
    maptwo.addSource("markers", {
        "type": "geojson",
        "data": {
            "type": "FeatureCollection",
            "features": [{
                "type": "Feature",
                "geometry": {
                    "type": "Point",
                    "coordinates": [173.04977416992188,-40.90676656647374]
                },
                "properties": {
				"marker-symbol": "marker-16",
                    "title": "Abel Tasman Coast Track"
                    
					
                }
            },
            {
                "type": "Feature",
                "geometry": {
                    "type": "Point",
                    "coordinates": [176.98699951171875,-38.79650693825767]
                },
                "properties": {
					"marker-symbol": "marker-16",
                    "title": "Lake Waikeramoana Great Walk"
                    
                }
            },
                {
                "type": "Feature",
                "properties": {
                 "marker-symbol": "marker-16",
                 "title": "Round The Mountain Track"
                },
                "geometry": {
                "type": "Point",
                "coordinates": [175.64151763916016,-39.28435682225362]
                }
            },
                {
                "type": "Feature",
                "properties": {
                "marker-symbol": "marker-16",
                "title": "Whanganui Journey"
                },
                "geometry": {
                "type": "Point",
                "coordinates": [175.08275985717773,-39.55680215891928]
                }
            },
                {
                "type": "Feature",
                "properties": {
                "marker-symbol": "marker-16",
                "title": "Heaphy Track"
                },
                "geometry": {
                "type": "Point",
                "coordinates": [172.14838027954102,-40.93984137157609]
                }
            },
                {
                "type": "Feature",
                "properties": {
                "marker-symbol": "marker-16",
                "title": "Kepler Track"
                },
                "geometry": {
                "type": "Point",
                "coordinates": [167.640380859375,-45.496721639458606]
                }
            },
                {
                "type": "Feature",
                "properties": {
                "marker-symbol": "marker-16",
                "title": "Routeburn Track"
            },
                "geometry": {
                "type": "Point",
                "coordinates": [168.16635131835938,-44.754535484160066]
            }
        },
            {
            "type": "Feature",
            "properties": {
                "marker-symbol": "marker-16",
                "title": "Milford Track"
            },
            "geometry": {
            "type": "Point",
            "coordinates": [167.78182983398438,-44.79255634014765]
            }
        },
            {
            "type": "Feature",
            "properties": {
            "marker-symbol": "marker-16",
            "title": "Rakiura Track"
            },
            "geometry": {
            "type": "Point",
            "coordinates": [168.06129455566406,-46.87239702052007]
            }
        }]
        }
    });

    maptwo.addLayer({
        "id": "markers",
        "type": "symbol",
        "source": "markers",
        "layout": {
            "icon-image": "{marker-symbol}",
            "icon-ignore-placement": true,
            "text-field": "{title}",
            "text-optional": true,
            "text-font": ["Open Sans Bold", "Arial Unicode MS Bold"],
            "text-size": 12,
            "text-offset": [0.6, 0.6],
            "text-anchor": "left"
        },
    });
});

maptwo.on('click', function (e) {
    var features = maptwo.queryRenderedFeatures(e.point, { layers: ['markers'] });
    if (features.length) {
        maptwo.flyTo({center: features[0].geometry.coordinates, zoom: 10});
    }
});

maptwo.on('mousemove', function (e) {
    var features = maptwo.queryRenderedFeatures(e.point, { layers: ['markers'] });
    maptwo.getCanvas().style.cursor = features.length ? 'pointer' : '';
});

</script>


</body></html>